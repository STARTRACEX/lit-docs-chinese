# 控制器和mixins

组合是一种管理复杂性并将代码组织成可重用部分的策略. 点亮提供了一些组合和代码重用选项：

* 组件组成
* 反应式控制器
* 类混合

组件组合是从更简单的组件组装复杂组件的过程. 组件可以在其模板中使用子组件. 组件可以使用标准的
DOM 机制进行通信：设置子组件的属性, 并侦听来自子组件的事件.

尽管组件组合是考虑将复杂的 Lit
项目分解为更小单元的默认方式, 但还有另外两种值得注意的代码模式可用于分解 Lit
代码：

反应式控制器是可以挂钩到 Lit
组件的更新生命周期的对象, 将与功能相关的状态和行为封装到单独的代码单元中.

类 mixins 允许您编写可重用的部分组件定义, 并将它们"混合"到组件的继承链中.

mixin
和反应式控制器都允许您将与给定功能相关的组件逻辑分解到可重用单元中. 有关控制器和混音的比较, 请参阅下一节.

## 控制器和mixins

控制器和类mixins在某些方面非常相似. 它们都可以挂钩到主机组件的生命周期、维护状态和触发主机更新.

控制器和 mixins
之间的主要区别在于它们与组件的关系. 组件与反应式控制器具有"has-a"关系, 因为它拥有控制器. 组件与
mixin 具有"is-a"关系, 因为该组件是 mixin 类的实例.

反应式控制器是组件拥有的单独对象. 控制器可以访问组件上的方法和字段, 组件可以访问控制器上的方法和字段. 但是, 使用该组件的人无法（轻松）访问控制器, 除非该组件向其公开公共
API. 控制器的生命周期方法在组件上的相应生命周期方法之前调用.

另一方面, mixin成为组件原型链的一部分.mixin 定义的任何公共字段或方法都是组件 API
的一部分. 由于 mixin 是原型链的一部分, 因此您的组件可以在一定程度上控制何时调用
mixin 的生命周期回调.

通常, 如果要决定是将功能打包为控制器还是混合, 则应选择控制器, 除非该功能需要以下条件之一：

* 将公共 API 添加到组件.
* 对组件生命周期的非常精细的访问.
